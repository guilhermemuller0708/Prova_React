(this.webpackJsonpsuper_loja_app=this.webpackJsonpsuper_loja_app||[]).push([[0],{20:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),u=a.n(o),i=a(4),s=a(5),c=a(7),l=a(6),d=a(8),p=a(1),m=a.n(p),h=a(3),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).state=a.estadoInicial(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"estadoInicial",value:function(){return{endereco:"",frete:"",produto:"",produtoId:""}}},{key:"confirmar",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={endereco:this.state.endereco,frete:this.state.frete,status:"aguardando pagamento",produto:this.state.produtoId?{id:this.state.produtoId}:null},e.next=3,this.props.onCadastrar(t);case 3:e.sent&&this.setState(this.estadoInicial());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancelar",value:function(){this.setState(this.estadoInicial())}},{key:"render",value:function(){var e=this;return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Cadastrar pedido"),r.a.createElement("label",null,"Endere\xe7o:"),r.a.createElement("input",{value:this.state.endereco,onChange:function(t){return e.setState({endereco:t.target.value})}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Produto:"),r.a.createElement("select",{value:this.state.produtoId,onChange:function(t){return e.setState({produtoId:t.target.value})}},r.a.createElement("option",{value:""}),this.props.produtos&&this.props.produtos.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome," - ",e.valor)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Frete:"),r.a.createElement("input",{value:this.state.frete,onChange:function(t){return e.setState({frete:t.target.value})}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Total:"),this.state.produtoId&&!isNaN(this.state.frete)?this.props.produtos.find((function(t){return t.id==e.state.produtoId})).valor+1*this.state.frete:"",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{disabled:!this.state.produtoId||!this.state.frete||!this.state.endereco,onClick:function(){return e.confirmar()}},"Cadastrar"),r.a.createElement("button",{onClick:function(){return e.cancelar()},style:{marginLeft:"15px"}},"Limpar"))}}]),t}(r.a.Component),v=a(9),E=a.n(v),b=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).cor={"aguardando pagamento":"yellow","confirma\xe7\xe3o pagamento":"Blue","separa\xe7\xe3o":"pink",enviado:"orange",cancelado:"red",entregue:"green"},e.proximo={"aguardando pagamento":"confirma\xe7\xe3o pagamento","confirma\xe7\xe3o pagamento":"separa\xe7\xe3o","separa\xe7\xe3o":"enviado",enviado:"entregue"},e.naoCAncelar={enviado:"orange",cancelado:"red",entregue:"green"},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.itens&&this.props.itens.map((function(t){return r.a.createElement("div",{style:{border:"1px solid black",padding:"5px",margin:"5px"},key:t.id},r.a.createElement("div",null,r.a.createElement("label",null,"ID:"),t.id),r.a.createElement("div",null,r.a.createElement("label",null,"Status:"),r.a.createElement("span",{style:{color:e.cor[t.status]}},t.status)),r.a.createElement("div",null,r.a.createElement("label",null,"Endere\xe7o:"),t.endereco),r.a.createElement("div",null,r.a.createElement("label",null,"Produto:")," ",t.produto.id," - ",t.produto.nome," (R$ ",t.produto.valor,") "),r.a.createElement("div",null,r.a.createElement("label",null,"Frete:"),"R$ ",t.frete),r.a.createElement("div",null,r.a.createElement("label",null,"Total:"),"R$ ",t.frete+t.produto.valor),r.a.createElement("div",null,e.proximo[t.status]&&r.a.createElement("button",{onClick:function(){return e.props.onMudarStatus(t,e.proximo[t.status])}},"Mudar status para:",e.proximo[t.status]),"aguardando pagamento"==t.status&&r.a.createElement("button",{onClick:function(){return e.props.onExcluir(t.id)}},"Excluir"),!e.naoCAncelar[t.status]&&r.a.createElement("button",{onClick:function(){return e.props.onMudarStatus(t,"cancelado")}},"Cancelar")))})))}}]),t}(r.a.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.atualizarLista(),e.next=3,E.a.get("/api/produtos/");case 3:t=e.sent,this.setState({produtos:t.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"inicializar",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/produtos/reset");case 2:return this.atualizarLista(),e.next=5,E.a.get("/api/produtos/");case 5:t=e.sent,this.setState({produtos:t.data});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"excluir",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("/api/pedidos/"+t);case 2:this.atualizarLista();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mudarStatus",value:function(){var e=Object(h.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.status=a,e.prev=1,e.next=4,E.a.put("/api/pedidos/"+t.id,t);case 4:return e.next=6,this.atualizarLista();case 6:return this.setState({itemEditar:null}),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),this.setState({erro:e.t0}),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"atualizarLista",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/pedidos/");case 2:t=e.sent,this.setState({pedidos:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cadastrar",value:function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({erro:null}),e.prev=1,e.next=4,E.a.post("/api/pedidos/",t);case 4:return e.next=6,this.atualizarLista();case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),this.setState({erro:e.t0}),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.inicializar()},style:{color:"red"}},"Inicializar/reinicializar exemplos"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(f,{produtos:this.state.produtos,onCadastrar:function(t){return e.cadastrar(t)}}),this.state.erro?r.a.createElement("div",{style:{color:"red"}},"Erro ao cadastrar:"+this.state.erro.response.data.message):"",r.a.createElement("h1",null,"Pedidos"),r.a.createElement(b,{itens:this.state.pedidos,onExcluir:function(t){return e.excluir(t)},onMudarStatus:function(t,a){return e.mudarStatus(t,a)}})," ",r.a.createElement("br",null))}}]),t}(r.a.Component);window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject=function(){});var _=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject=function(){}),u.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject=function(){})}},[[20,1,2]]]);
//# sourceMappingURL=main.e384cdb5.chunk.js.map